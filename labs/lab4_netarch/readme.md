# Архитектура сети  
______  
## Задание:
1. Разработаете и задокументируете адресное пространство для лабораторного стенда.  
2. Настроите ip адреса на каждом активном порту.  
3. Настроите каждый VPC в каждом офисе в своем VLAN.
4. Настроите VLAN/Loopbackup interface управления для сетевых устройств.  
5. Настроите сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано
Используете IPv4. IPv6 по желанию.  
### Лабораторный стенд
  ![scheme](https://github.com/Alnor23/OTUS_NETWORK/blob/main/labs/lab4_netarch/screenshorts/main_scheme.png)
______
  Для формирования адресного пространства стенда были использованны следующие подходы:
   - все адреса IPv4 относятся к сети 10.0.0.0/8
   - все глобальные адреса IPv6 относятся к сети 20FF:ODB8:ACAD::/48
   - все локальные адреса IPv6 относятся к сети FE80::/8
  
### Часть 1. Настройка и назначение адресов для маршрутизаторов.
Для обеспечения иерархической логической структуры при разработки адресации стенда, была реализована следующая схема:
### IPv4
  #### Москва  (10.1.0.0/16)  
  Сеть управления L3 устройствами 10.1.1.0/28   
  Сеть управления L2 устройствами 10.1.1.16/29   
  Сети между L3 устройствами 10.1.2.0/24 (c дальнейшей разбивкой на сети с 30 битной маской)   
  Клиентская сеть VPC1 10.1.3.0/28    
  Клиентская сеть VPC7 10.1.3.16/28    
  #### СПБ (10.2.0.0/16)  
  Сеть управления L3 устройствами 10.2.1.0/28   
  Сеть управления L2 устройствами 10.2.1.16/29   
  Сети между L3 устройствами 10.2.2.0/24 (c дальнейшей разбивкой на сети с 30 битной маской)  
  Клиентская сеть VPC8 10.2.3.0/28   
  Клиентская сеть VPC 10.2.3.16/28   
  #### Чокурдах  и Лабытнаги (10.3.0.0/16)  
  Сеть управления L3 устройствами 10.3.1.0/29   
  Сеть управления L2 устройствами 10.3.1.8/29  
  Сети между L3 устройствами  10.3.2.0/29 (c дальнейшей разбивкой на сети с 30 битной маской)   
  Клиентская сеть VPC30  10.3.3.0/28  
  Клиентская сеть VPC31  10.3.3.16/28   
  #### Киторн  (10.10.0.0/16)  
  Сеть управления L3 устройствами  10.10.1.0/29      
  #### Ламас  (10.11.0.0/16)  
  Сеть управления L3 устройствами  10.11.1.0/29     
  #### Триада  (10.12.0.0/16)  
  Сеть управления L3 устройствами 10.12.1.0/29  
  Сети между L3 устройствами  10.12.2.0/24 (c дальнейшей разбивкой на сети с 30 битной маской)  
### IPv6  
  #### Москва (20FF:ODB8:ACAD:1000::/64)  
  #### СПБ (20FF:ODB8:ACAD:2000::/64)  
  #### Чокурдах  и Лабытнаги (20FF:ODB8:ACAD:3000::/64)  
  #### Киторн (20FF:ODB8:ACAD:4000::/64)    
  #### Ламас (20FF:ODB8:ACAD:5000::/64)    
  #### Триада (20FF:ODB8:ACAD:6000::/64)   
  Для адресации интерфейсов управления последний хекстет будет соответствовать номеру устройста  
  Для сетей между устройств предпоследний хекстет будет соответствовать номеру устройства а последний номеру интерфейса  
  В LLA последний хекстет будет соответствовать номеру устройства  
### Подробная таблица адресов   
#### Москва  
Management
Device | IPv4 Address  | Subnet Mask    | IPv6 GLA Address         | IPv6 LLA Address
-------|---------------|----------------|--------------------------|-----------------
R19    |    10.1.1.2   |255.255.255.240 |20FF:ODB8:ACAD:1000::19/64|FE80::19/8
R14    |    10.1.1.3   |255.255.255.240 |20FF:ODB8:ACAD:1000::14/64|FE80::14/8   
R12    |    10.1.1.4   |255.255.255.240 |20FF:ODB8:ACAD:1000::12/64|FE80::12/8     
R15    |    10.1.1.5   |255.255.255.240 |20FF:ODB8:ACAD:1000::15/64|FE80::15/8 
R13    |    10.1.1.6   |255.255.255.240 |20FF:ODB8:ACAD:1000::13/64|FE80::13/8 
R20    |    10.1.1.7   |255.255.255.240 |20FF:ODB8:ACAD:1000::20/64|FE80::20/8 
SW4    |    10.1.1.18  |255.255.255.248 |n/a                       |n/a
SW5    |    10.1.1.19  |255.255.255.248 |n/a                       |n/a 
SW3    |    10.1.1.20  |255.255.255.248 |n/a                       |n/a 
SW2    |    10.1.1.21  |255.255.255.248 |n/a                       |n/a 

Link  
Device | Port | Address type | Address                      | Network
------ |------|--------------|------------------------------|---------
R19    | e0/0 | IPv4         | 10.1.2.1/30                  | 10.1.2.0/30
R19    | e0/0 | IPv6         | 20FF:ODB8:ACAD:1000::19:/64  | 20FF:ODB8:ACAD:1000::/64
R14    | e0/3 | IPv4         | 10.1.2.2/30                  | 10.1.2.0/30 
R14    | e0/3 | IPv6         | 20FF:ODB8:ACAD:1000::14:3/64 | 20FF:ODB8:ACAD:1000::/64
------ |------|--------------|------------------------------|---------
R14    | e0/2 | IPv4         | 10.1.2.5/30                  | 10.1.2.4/30 
R14    | e0/2 | IPv6         | 20FF:ODB8:ACAD:1000::14:2/64 | 20FF:ODB8:ACAD:1000::/64
R22    | e0/0 | IPv4         | 10.1.2.6/30                  | 10.1.2.4/30 
R22    | e0/0 | IPv6         | 20FF:ODB8:ACAD:1000::22:/64  | 20FF:ODB8:ACAD:1000::/64
R14    | e0/0 | IPv4         | 10.1.2.9/30                  | 10.1.2.8/30 
R14    | e0/0 | IPv6         | 20FF:ODB8:ACAD:1000::14:/64  | 20FF:ODB8:ACAD:1000::/64
R12    | e0/0 | IPv4         | 10.1.2.10/30                 | 10.1.2.8/30 
R12    | e0/0 | IPv6         | 20FF:ODB8:ACAD:1000::12:/64  | 20FF:ODB8:ACAD:1000::/64
R14    | e0/1 | IPv4         | 10.1.2.13/30                 | 10.1.2.12/30 
R14    | e0/1 | IPv6         | 20FF:ODB8:ACAD:1000::14:1/64 | 20FF:ODB8:ACAD:1000::/64
R13    | e0/1 | IPv4         | 10.1.2.14/30                 | 10.1.2.12/30 
R13    | e0/1 | IPv6         | 20FF:ODB8:ACAD:1000::13:1/64 | 20FF:ODB8:ACAD:1000::/64
R12    | e0/3 | IPv4         | 10.1.2.17/30                 | 10.1.2.16/30 
R12    | e0/3 | IPv6         | 20FF:ODB8:ACAD:1000::12:/64  | 20FF:ODB8:ACAD:1000::/64

